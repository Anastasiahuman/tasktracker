<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Growth Hypothesis Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f7;
            --bg-tertiary: #ebebf0;
            --text-primary: #1d1d1f;
            --text-secondary: #86868b;
            --text-tertiary: #a1a1a6;
            --border-color: #d5d5d7;
            --accent-primary: #0071e3;
            --accent-hover: #0077ed;
            --accent-active: #006ac1;
            --success: #34c759;
            --warning: #ff9500;
            --error: #ff3b30;
            --glass-light: rgba(255, 255, 255, 0.8);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-primary: #1d1d1f;
                --bg-secondary: #313133;
                --bg-tertiary: #424245;
                --text-primary: #f5f5f7;
                --text-secondary: #a1a1a6;
                --text-tertiary: #86868b;
                --border-color: #424245;
                --accent-primary: #0071e3;
                --accent-hover: #0077ed;
                --glass-light: rgba(255, 255, 255, 0.1);
            }
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 24px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: var(--text-primary);
        }

        header {
            margin-bottom: 40px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 24px;
        }

        h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }

        .subtitle {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .input-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 40px;
        }

        @media (max-width: 900px) {
            .input-section {
                grid-template-columns: 1fr;
            }
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        input, textarea {
            padding: 12px 14px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.2s, background-color 0.2s;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
            background-color: var(--bg-primary);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        .metric-input {
            display: flex;
            flex-direction: column;
        }

        .metric-input label {
            font-size: 12px;
            margin-bottom: 6px;
        }

        .metric-input input {
            font-size: 13px;
            padding: 10px 12px;
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        button {
            padding: 11px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            letter-spacing: -0.02em;
        }

        .btn-primary {
            background-color: var(--accent-primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--accent-hover);
        }

        .btn-primary:active {
            background-color: var(--accent-active);
        }

        .btn-secondary {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: var(--bg-tertiary);
        }

        .hypotheses-section {
            margin-top: 40px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            letter-spacing: -0.02em;
        }

        .hypothesis-card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 12px;
            transition: all 0.2s;
        }

        .hypothesis-card:hover {
            border-color: var(--accent-primary);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .hypothesis-title {
            font-size: 15px;
            font-weight: 600;
            flex: 1;
            line-height: 1.5;
            margin-right: 16px;
        }

        .rice-score {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-hover));
            color: white;
            font-weight: 700;
            font-size: 20px;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(0, 113, 227, 0.3);
        }

        .rice-score.low {
            background: linear-gradient(135deg, #ff9500, #ffb340);
            box-shadow: 0 4px 12px rgba(255, 149, 0, 0.3);
        }

        .rice-score.medium {
            background: linear-gradient(135deg, #34c759, #50e896);
            box-shadow: 0 4px 12px rgba(52, 199, 89, 0.3);
        }

        .card-body {
            margin-bottom: 12px;
        }

        .hypothesis-description {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .rice-breakdown {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            font-size: 12px;
        }

        .rice-item {
            background-color: var(--bg-primary);
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .rice-label {
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            font-size: 11px;
        }

        .rice-value {
            font-weight: 700;
            color: var(--text-primary);
            font-size: 16px;
        }

        .card-footer {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .tag {
            display: inline-block;
            padding: 6px 12px;
            background-color: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .tag.category {
            background-color: var(--bg-primary);
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }

        .empty-text {
            font-size: 14px;
            margin-bottom: 4px;
        }

        .sort-controls {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            align-items: center;
        }

        .sort-controls label {
            margin-bottom: 0;
            margin-right: 8px;
        }

        select {
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 13px;
            font-family: inherit;
            cursor: pointer;
        }

        select:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        .stat-bar {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .stat-bar-fill {
            flex: 1;
            height: 4px;
            background-color: var(--bg-tertiary);
            border-radius: 2px;
            overflow: hidden;
        }

        .stat-bar-inner {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-hover));
            border-radius: 2px;
        }

        .copy-button {
            padding: 6px 12px;
            background-color: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-primary);
        }

        .copy-button:hover {
            background-color: var(--bg-secondary);
        }

        .copy-button.copied {
            background-color: var(--success);
            color: white;
            border-color: var(--success);
        }

        .wizard-container {
            animation: fadeIn 0.3s ease-in;
        }

        .wizard-step {
            display: none;
            animation: slideIn 0.3s ease-out;
        }

        .wizard-step.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(10px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .progress-indicator {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-bottom: 40px;
            position: relative;
        }

        .progress-indicator::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--border-color);
            transform: translateY(-50%);
            z-index: 0;
        }

        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--bg-secondary);
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            z-index: 1;
            color: var(--text-secondary);
        }

        .progress-step.active {
            background-color: var(--accent-primary);
            border-color: var(--accent-primary);
            color: white;
        }

        .progress-step:hover {
            border-color: var(--accent-primary);
        }

        textarea {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
        }

        select {
            padding: 11px 12px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 14px;
            font-family: inherit;
            cursor: pointer;
            transition: border-color 0.2s, background-color 0.2s;
        }

        select:focus {
            outline: none;
            border-color: var(--accent-primary);
            background-color: var(--bg-primary);
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: var(--accent-primary);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê –ù–∞–∑–∞–¥ –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º</a>
        <header>
            <h1>Growth Hypothesis Generator</h1>
            <p class="subtitle">–ì–µ–Ω–µ—Ä–∏—Ä—É–π –≥–∏–ø–æ—Ç–µ–∑—ã –∏–∑ –º–µ—Ç—Ä–∏–∫ –∏ —Ä–∞—Å—Å—Ç–∞–≤–ª—è–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–æ RICE</p>
        </header>

        <div class="progress-indicator" id="progressIndicator">
            <div class="progress-step active" onclick="goToStep(1)">1</div>
            <div class="progress-step" onclick="goToStep(2)">2</div>
            <div class="progress-step" onclick="goToStep(3)">3</div>
            <div class="progress-step" onclick="goToStep(4)">4</div>
        </div>

        <div class="wizard-container" id="wizardContainer">
            <!-- Step 1: Basic Info -->
            <div class="wizard-step active" id="step1">
                <h2 style="font-size: 20px; margin-bottom: 24px; font-weight: 600;">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ</h2>
                
                <div class="input-section">
                    <div>
                        <div class="form-group">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ / –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</label>
                            <input type="text" id="productName" placeholder="–Ω–∞–ø—Ä. MyApp, Analytics Dashboard">
                        </div>
                        <div class="form-group" style="margin-top: 16px;">
                            <label>–¢–∏–ø –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</label>
                            <select id="platform">
                                <option value="">–í—ã–±–µ—Ä–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É</option>
                                <option value="web">Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</option>
                                <option value="mobile">Mobile (–Ω–∞—Ç–∏–≤–Ω–æ–µ iOS/Android)</option>
                                <option value="hybrid">Hybrid (React Native / Flutter)</option>
                                <option value="saas">SaaS B2B</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-top: 16px;">
                            <label>–†–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</label>
                            <select id="teamSize">
                                <option value="">–í—ã–±–µ—Ä–∏ —Ä–∞–∑–º–µ—Ä</option>
                                <option value="solo">1-2 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</option>
                                <option value="small">3-5 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</option>
                                <option value="medium">6-15 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</option>
                                <option value="large">15+ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <div class="form-group">
                            <label>–û—Å–Ω–æ–≤–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</label>
                            <select id="audience">
                                <option value="">–í—ã–±–µ—Ä–∏ –∞—É–¥–∏—Ç–æ—Ä–∏—é</option>
                                <option value="b2c-mass">B2C –º–∞—Å—Å–æ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</option>
                                <option value="b2c-premium">B2C –ø—Ä–µ–º–∏—É–º —Å–µ–≥–º–µ–Ω—Ç</option>
                                <option value="b2b-sme">B2B –º–∞–ª—ã–π –±–∏–∑–Ω–µ—Å</option>
                                <option value="b2b-enterprise">B2B Enterprise</option>
                                <option value="mixed">–°–º–µ—à–∞–Ω–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-top: 16px;">
                            <label>–†–∞–∑–º–µ—Ä DAU / –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</label>
                            <select id="userScale">
                                <option value="">–í—ã–±–µ—Ä–∏ –º–∞—Å—à—Ç–∞–±</option>
                                <option value="small">–¥–æ 10K</option>
                                <option value="medium">10K - 100K</option>
                                <option value="large">100K - 1M</option>
                                <option value="xlarge">1M+</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="goToStep(2)">–î–∞–ª–µ–µ ‚Üí –ú–µ—Ç—Ä–∏–∫–∏</button>
                </div>
            </div>

            <!-- Step 2: Metrics & Problem -->
            <div class="wizard-step" id="step2">
                <h2 style="font-size: 20px; margin-bottom: 24px; font-weight: 600;">–ú–µ—Ç—Ä–∏–∫–∏ –∏ –ø—Ä–æ–±–ª–µ–º–∞</h2>
                
                <div class="form-group">
                    <label>–û—Å–Ω–æ–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –∫–æ—Ç–æ—Ä–∞—è —É–ø–∞–ª–∞ / —Ä–∞—Å—Ç—ë—Ç –º–µ–¥–ª–µ–Ω–Ω–æ</label>
                    <select id="mainMetric">
                        <option value="">–í—ã–±–µ—Ä–∏ –º–µ—Ç—Ä–∏–∫—É</option>
                        <option value="dau">DAU / MAU</option>
                        <option value="signup">Sign-up / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</option>
                        <option value="activation">Activation Rate (% –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–≤—à–∏—Ö—Å—è)</option>
                        <option value="conversion">Conversion Rate / –ü–æ–∫—É–ø–∫–∞</option>
                        <option value="retention">Retention (D1, D7, D30)</option>
                        <option value="arpu">ARPU / Average Revenue</option>
                        <option value="feature-adoption">Feature Adoption (% –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —Ñ–∏—á—É)</option>
                        <option value="churn">Churn Rate</option>
                        <option value="ltv">LTV / Customer Lifetime Value</option>
                    </select>
                </div>

                <div class="input-section">
                    <div>
                        <div class="form-group">
                            <label>–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏</label>
                            <input type="number" id="metricValue" placeholder="–Ω–∞–ø—Ä. 50000" step="0.01">
                        </div>
                        <div class="form-group" style="margin-top: 16px;">
                            <label>–¶–µ–ª–µ–≤–æ–π –ø—Ä–∏—Ä–æ—Å—Ç (%)</label>
                            <input type="number" id="targetGrowth" placeholder="–Ω–∞–ø—Ä. 15" value="15" step="0.1">
                        </div>
                    </div>
                    <div>
                        <div class="form-group">
                            <label>–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏ –ø—Ä–æ–±–ª–µ–º—É</label>
                            <textarea id="context" placeholder="–ì–¥–µ –º–µ—Ç—Ä–∏–∫–∞ –ø–∞–¥–∞–µ—Ç? –ö–æ—Ç–æ—Ä—ã–π —Å–µ–≥–º–µ–Ω—Ç –ø–æ—Å—Ç—Ä–∞–¥–∞–ª? –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å? –ö–∞–∫–∏–µ –≥–∏–ø–æ—Ç–µ–∑—ã —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏?"></textarea>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn-secondary" onclick="goToStep(1)">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="btn-primary" onclick="goToStep(3)">–î–∞–ª–µ–µ ‚Üí –†–µ—Å—É—Ä—Å—ã</button>
                </div>
            </div>

            <!-- Step 3: Resources & Constraints -->
            <div class="wizard-step" id="step3">
                <h2 style="font-size: 20px; margin-bottom: 24px; font-weight: 600;">–†–µ—Å—É—Ä—Å—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</h2>
                
                <div class="input-section">
                    <div>
                        <div class="form-group">
                            <label>–î–æ—Å—Ç—É–ø–Ω—ã–π –±—é–¥–∂–µ—Ç –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É (—á–∞—Å—ã / —Å–ø—Ä–∏–Ω—Ç—ã)</label>
                            <select id="budget">
                                <option value="">–í—ã–±–µ—Ä–∏ –æ–±—ä—ë–º</option>
                                <option value="5">1-2 –¥–Ω—è (MVP)</option>
                                <option value="20">1 –Ω–µ–¥–µ–ª—è</option>
                                <option value="40">2 –Ω–µ–¥–µ–ª–∏ (—Å–ø—Ä–∏–Ω—Ç)</option>
                                <option value="80">1 –º–µ—Å—è—Ü</option>
                                <option value="unlimited">–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-top: 16px;">
                            <label>–ï—Å—Ç—å –ª–∏ –¥–æ—Å—Ç—É–ø –∫ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é?</label>
                            <select id="abTesting">
                                <option value="">–í—ã–±–µ—Ä–∏ –æ—Ç–≤–µ—Ç</option>
                                <option value="yes">–î–∞, –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</option>
                                <option value="partial">–ß–∞—Å—Ç–∏—á–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</option>
                                <option value="no">–ù–µ—Ç, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <div class="form-group">
                            <label>–ï—Å—Ç—å –ª–∏ product analytics (Amplitude / Mixpanel / —Å–≤–æ—ë)?</label>
                            <select id="analytics">
                                <option value="">–í—ã–±–µ—Ä–∏ –æ—Ç–≤–µ—Ç</option>
                                <option value="yes">–î–∞, –ø–æ–ª–Ω–∞—è —Ç—Ä–µ–∫–∏—Ä–æ–≤–∫–∞</option>
                                <option value="partial">–¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è</option>
                                <option value="no">–ù–µ—Ç, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-top: 16px;">
                            <label>–ë–∏–∑–Ω–µ—Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –Ω–∞ —ç—Ç–æ—Ç –∫–≤–∞—Ä—Ç–∞–ª</label>
                            <div style="display: flex; flex-direction: column; gap: 8px; margin-top: 8px;">
                                <label style="display: flex; align-items: center; margin-bottom: 0;">
                                    <input type="checkbox" id="pri-growth" style="margin-right: 8px;"> –†–æ—Å—Ç —é–∑–µ—Ä–æ–≤
                                </label>
                                <label style="display: flex; align-items: center; margin-bottom: 0;">
                                    <input type="checkbox" id="pri-retention" style="margin-right: 8px;"> –£–ª—É—á—à–µ–Ω–∏–µ Retention
                                </label>
                                <label style="display: flex; align-items: center; margin-bottom: 0;">
                                    <input type="checkbox" id="pri-revenue" style="margin-right: 8px;"> –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—ã—Ä—É—á–∫–∏
                                </label>
                                <label style="display: flex; align-items: center; margin-bottom: 0;">
                                    <input type="checkbox" id="pri-engagement" style="margin-right: 8px;"> –ü–æ–≤—ã—à–µ–Ω–∏–µ engagement
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn-secondary" onclick="goToStep(2)">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="btn-primary" onclick="goToStep(4)">–î–∞–ª–µ–µ ‚Üí –ß–µ–º —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏</button>
                </div>
            </div>

            <!-- Step 4: Previous Attempts -->
            <div class="wizard-step" id="step4">
                <h2 style="font-size: 20px; margin-bottom: 24px; font-weight: 600;">–ß—Ç–æ —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏</h2>
                
                <div class="form-group">
                    <label>–ö–∞–∫–∏–µ –≥–∏–ø–æ—Ç–µ–∑—ã / –∏–∑–º–µ–Ω–µ–Ω–∏—è —É–∂–µ –±—ã–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã? (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                    <textarea id="previousAttempts" placeholder="–ù–∞–ø—Ä. –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–ø–∏—Ä–∞–π—Ç –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞, –¥–æ–±–∞–≤–∏–ª–∏ first-time user tips, –∏–∑–º–µ–Ω–∏–ª–∏ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∑–∞–ø—É—Å—Ç–∏–ª–∏ email campaign..."></textarea>
                </div>

                <div class="form-group">
                    <label>–ß—Ç–æ –∏–∑ —ç—Ç–æ–≥–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ, —á—Ç–æ –Ω–µ—Ç?</label>
                    <textarea id="previousResults" placeholder="–ù–∞–ø—Ä. –∫–æ–ø–∏—Ä–∞–π—Ç –ø–æ–º–æ–≥ –Ω–∞ +5%, tips –Ω–µ –ø–æ–º–æ–≥–ª–∏, email —Ä–∞–±–æ—Ç–∞–ª –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞ X..."></textarea>
                </div>

                <div class="form-group">
                    <label>–û—Å–Ω–æ–≤–Ω—ã–µ –±–æ–ª–∏ / –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏</label>
                    <textarea id="painPoints" placeholder="–ù–∞–ø—Ä. 40% —É—Ö–æ–¥—è—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞, premium –ø–ª–∞–Ω –Ω–µ –±–µ—Ä—É—Ç –ø—Ä–µ–º–∏—É–º —Å–µ–≥–º–µ–Ω—Ç, –º–æ–±–∏–ª—å–Ω—ã–µ —é–∑–µ—Ä—ã –º–µ–Ω–µ–µ –ª–æ—è–ª—å–Ω—ã..."></textarea>
                </div>

                <div class="button-group">
                    <button class="btn-secondary" onclick="goToStep(3)">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="btn-primary" onclick="generateHypotheses()">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—ã üöÄ</button>
                </div>
            </div>
        </div>

        <div class="hypotheses-section" id="hypothesesSection" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 class="section-title">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–∏–ø–æ—Ç–µ–∑—ã</h2>
                <button class="btn-secondary" onclick="resetAndGoBack()" style="padding: 8px 16px; font-size: 12px;">‚Üê –ù–∞–∑–∞–¥ –∫ –≤–æ–ø—Ä–æ—Å–∞–º</button>
            </div>

            <div style="background-color: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 12px; padding: 16px; margin-bottom: 20px;">
                <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 8px;">üéØ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∞–ª–∏–∑–∞:</div>
                <div style="font-size: 13px; color: var(--text-primary);">
                    <strong id="contextSummary">–ü—Ä–æ–¥—É–∫—Ç ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ ‚Ä¢ –ê—É–¥–∏—Ç–æ—Ä–∏—è</strong>
                </div>
            </div>

            <div class="sort-controls">
                <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                <select id="sortBy" onchange="sortHypotheses()">
                    <option value="rice">RICE (–≤—ã—Å–æ–∫–∏–π –ø–µ—Ä–≤—ã–º)</option>
                    <option value="impact">–í–ª–∏—è–Ω–∏–µ</option>
                    <option value="reach">–û—Ö–≤–∞—Ç</option>
                    <option value="effort">–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã (–Ω–∏–∑–∫–∏–µ –ø–µ—Ä–≤—ã–µ)</option>
                </select>
                <div style="font-size: 13px; color: var(--text-secondary); margin-left: auto;">
                    –í—Å–µ–≥–æ: <strong id="totalCount">0</strong>
                </div>
            </div>

            <div id="hypothesesList"></div>
        </div>

        <div id="emptyState" class="empty-state" style="display: none;">
            <div class="empty-icon">‚ú®</div>
            <div class="empty-text">–ü–æ–∫–∞ –≥–∏–ø–æ—Ç–µ–∑ –Ω–µ—Ç</div>
            <div style="font-size: 12px; color: var(--text-tertiary);">–ó–∞–ø–æ–ª–Ω–∏ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞–∂–º–∏ ¬´–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—ã¬ª</div>
        </div>
    </div>

    <script>
        // –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–∏–ø–æ—Ç–µ–∑ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
        const hypothesisLibrary = {
            acquisition: {
                web: [
                    { title: "SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è + –∫–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è", description: "–£–ª—É—á—à–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å –≤ –ø–æ–∏—Å–∫–µ —á–µ—Ä–µ–∑ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, keywords, backlinking", impact: 2, effortWeb: 40, effortMobile: 999 },
                    { title: "PPC –∫–∞–º–ø–∞–Ω–∏–∏ –≤ Google Ads / Facebook Ads", description: "–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ä–µ–∫–ª–∞–º–Ω—É—é –∫–∞–º–ø–∞–Ω–∏—é –Ω–∞ –Ω—É–∂–Ω—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é", impact: 1.5, effortWeb: 20, effortMobile: 20 },
                    { title: "–£–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é: –æ–¥–∏–Ω –∫–ª–∏–∫ / —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è", description: "–°–Ω–∏–∑–∏—Ç—å —Ñ—Ä–∏–∫—à–Ω –Ω–∞ —à–∞–≥–µ –≤—Ö–æ–¥–∞: Google auth, Apple Sign In, —ç–º–µ–π–ª –≤ –æ–¥–Ω–æ –ø–æ–ª–µ", impact: 1.5, effortWeb: 25, effortMobile: 35 },
                    { title: "–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞", description: "–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —é–∑–µ—Ä–æ–≤, –æ—Ç–∑—ã–≤—ã, case studies, –ª–æ–≥–æ—Ç–∏–ø—ã –∫–æ–º–ø–∞–Ω–∏–π", impact: 1, effortWeb: 15, effortMobile: 15 },
                ],
                mobile: [
                    { title: "ASO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (App Store Optimization)", description: "–£–ª—É—á—à–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –≤–∏–¥–µ–æ –≤ App Store / Google Play –¥–ª—è –≤—ã—à–µ CTR", impact: 2, effortWeb: 999, effortMobile: 15 },
                    { title: "–ú–æ–±–∏–ª—å–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞: TikTok, YouTube Shorts", description: "–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–∏—Ä—É—Å–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –≤ –º–æ–±–∏–ª—å–Ω—ã—Ö —Å–æ—Ü—Å–µ—Ç—è—Ö –¥–ª—è –º–æ–ª–æ–¥–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏", impact: 2, effortWeb: 999, effortMobile: 25 },
                    { title: "–ü–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω: –¥–µ–º–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", description: "–ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å core value —Ä–∞–Ω—å—à–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", impact: 1.5, effortWeb: 999, effortMobile: 40 },
                    { title: "Deep linking –∏–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ–¥–∏–π", description: "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ deep links –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–π, –ø–æ–∑–≤–æ–ª–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ –∞–ø–∞", impact: 1, effortWeb: 999, effortMobile: 30 },
                ]
            },
            activation: {
                web: [
                    { title: "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—É—Ä / –¥–µ–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è", description: "–ü–æ–∫–∞–∑–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—á–∏ –Ω–æ–≤—ã–º —é–∑–µ—Ä–∞–º —á–µ—Ä–µ–∑ –Ω–∞–≤–æ–¥—è—â–∏–µ —Ç—É—Ç, —á—Ç–æ–±—ã –æ–Ω–∏ –¥–æ—Ä–æ—Å–ª–∏ –¥–æ –ø–µ—Ä–≤–æ–≥–æ '–∞–≥–∞'", impact: 2, effortWeb: 35, effortMobile: 45 },
                    { title: "–°–Ω–∏–∑–∏—Ç—å —Ç—Ä–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –ø–æ–∫—É–ø–∫–µ", description: "–£–ø—Ä–æ—Å—Ç–∏—Ç—å —á–µ–∫–∞—É—Ç: 1-click checkout, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞—Ä—Ç—É, show trust signals (SSL, reviews)", impact: 2, effortWeb: 50, effortMobile: 60 },
                    { title: "–ü–µ—Ä—Å–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É —Ç—Ä–∞—Ñ–∏–∫–∞", description: "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç / –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ –æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à—ë–ª —é–∑–µ—Ä", impact: 1.5, effortWeb: 40, effortMobile: 999 },
                    { title: "–¶–µ–ª–µ–≤—ã–µ email / SMS –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", description: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–µ—Ä–∏—é –ø–∏—Å–µ–º: –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, value prop, –ø–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω, CTA –∫ –ø–æ–∫—É–ø–∫–µ", impact: 1.5, effortWeb: 20, effortMobile: 20 },
                ],
                mobile: [
                    { title: "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö", description: "–ó–∞—Å—Ç–∞–≤–∏—Ç—å —é–∑–µ—Ä–∞ –ø—Ä–æ–π—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é / –≤—Ö–æ–¥ —Ä–∞–Ω—å—à–µ, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã–µ", impact: 1.5, effortWeb: 999, effortMobile: 20 },
                    { title: "Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è", description: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—É—à –∫–æ–≥–¥–∞ —é–∑–µ—Ä —Ä—è–¥–æ–º —Å –º–µ—Å—Ç–æ–º –¥–µ–π—Å—Ç–≤–∏—è (–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è)", impact: 1.5, effortWeb: 999, effortMobile: 40 },
                    { title: "–ú–∞–≥–∏—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞: mini-game / gamification", description: "–°–¥–µ–ª–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è –≤–µ—Å—ë–ª—ã–º –∏ –æ–±—É—á–∞—é—â–∏–º —á–µ—Ä–µ–∑ –∏–≥—Ä–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã", impact: 1.5, effortWeb: 999, effortMobile: 60 },
                ]
            },
            retention: {
                web: [
                    { title: "Email re-engagement –∫–∞–º–ø–∞–Ω–∏–∏ –¥–ª—è —Å–ø—è—â–∏—Ö", description: "–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–∏—Å—å–º–∞ –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —é–∑–µ—Ä–æ–≤ —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è", impact: 1.5, effortWeb: 20, effortMobile: 20 },
                    { title: "–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ —é–∑–µ—Ä–∞", description: "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–∏—á–∏, —Ç–æ–≤–∞—Ä—ã, –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—à–ª–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π", impact: 2, effortWeb: 60, effortMobile: 60 },
                    { title: "–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ / –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏", description: "–ë–∞–ª–ª—ã, —É—Ä–æ–≤–Ω–∏, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –±–æ—Ä–¥–æ –ª–∏–¥–µ—Ä–æ–≤, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞", impact: 1, effortWeb: 45, effortMobile: 50 },
                    { title: "–ö–æ–º–º—å—é–Ω–∏—Ç–∏ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã", description: "–ü–æ–∑–≤–æ–ª–∏—Ç—å —é–∑–µ—Ä–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç, –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, –¥–µ–ª–∏—Ç—å—Å—è, –≤–∏–¥–µ—Ç—å –¥—Ä—É–∑–µ–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏", impact: 1, effortWeb: 80, effortMobile: 100 },
                ],
                mobile: [
                    { title: "Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç (–º–æ–º–µ–Ω—Ç –∏—Å—Ç–∏–Ω—ã)", description: "–û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø—É—à–∏ –∫–æ–≥–¥–∞ —é–∑–µ—Ä –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç, –ø–æ–ª—É—á–∞–µ—Ç —Å–∫–∏–¥–∫—É, –∏–ª–∏ –±–ª–∏–∑–∫–æ –∫ –¥–µ–ª—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è", impact: 2, effortWeb: 999, effortMobile: 30 },
                    { title: "–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ push —Ç–µ–∫—Å—Ç—ã –ø–æ —Å–µ–≥–º–µ–Ω—Ç—É", description: "–†–∞–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–≥–æ—Ä—Ç: –Ω–æ–≤—ã–µ —é–∑–µ—Ä—ã, –ª–æ—è–ª—å–Ω—ã–µ, —Ä–∏—Å–∫—É—é—â–∏–µ —É–π—Ç–∏", impact: 1.5, effortWeb: 999, effortMobile: 40 },
                    { title: "–õ–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞", description: "–°–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è / –∫–æ–Ω—Ç–µ–Ω—Ç –¥–∞–∂–µ –±–µ–∑ —Å–µ—Ç–∏", impact: 1, effortWeb: 999, effortMobile: 50 },
                ]
            },
            monetization: {
                web: [
                    { title: "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—ã: A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω–æ–≤—ã–µ —Ç–æ—á–∫–∏", description: "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ü–µ–Ω—ã, bundle'—ã, –ø–ª–∞–Ω—ã (Basic/Pro/Premium) –¥–ª—è –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã—Ä—É—á–∫–∏", impact: 2.5, effortWeb: 30, effortMobile: 30 },
                    { title: "–ó–∞–ø—É—Å—Ç–∏—Ç—å upsell / cross-sell –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö", description: "–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å premium, –¥–æ–±–∞–≤–∫–∏, —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã –≤ –Ω—É–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤–æ—Ä–æ–Ω–∫–∏", impact: 2, effortWeb: 35, effortMobile: 35 },
                    { title: "–°–æ–∑–¥–∞—Ç—å –∏–ª–ª—é–∑–∏—é —Å—Ä–æ—á–Ω–æ—Å—Ç–∏: limited-time offers", description: "–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∫–∏–¥–∫–∏, –ª–∏–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Å—Ç–∞, countdown —Ç–∞–π–º–µ—Ä—ã –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏", impact: 1.5, effortWeb: 20, effortMobile: 20 },
                    { title: "–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ / –ø–æ–¥–ø–∏—Å–∫–∞", description: "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É —Å –ø–æ–Ω–∏–∂–∞—é—â–∏–º–∏ —Ü–µ–Ω–∞–º–∏, exclusive benefits, —É–¥–æ–±—Å—Ç–≤–æ –∞–≤—Ç–æ-–ø–ª–∞—Ç–µ–∂–µ–π", impact: 1.5, effortWeb: 60, effortMobile: 60 },
                ],
                mobile: [
                    { title: "In-app –ø–æ–∫—É–ø–∫–∏ –∏ —Å–µ—Ç—Ç –ø–æ–¥–ø–∏—Å–∫–∏", description: "–í–Ω–µ–¥—Ä–∏—Ç—å in-app purchases, –ø–æ–¥–ø–∏—Å–∫–∏, –¥–æ–ø –∫–æ–Ω—Ç–µ–Ω—Ç, –≤–µ—Ä—Å–∏—é Pro —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω—ã–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã", impact: 2.5, effortWeb: 999, effortMobile: 50 },
                    { title: "–ú–∏–∫—Ä–æ—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: –≤–µ—â–∏, –±–∞–ª–∞–Ω—Å, –ø—Ä–µ–º–∏—É–º –≤–∞–ª—é—Ç–∞", description: "–î–æ–±–∞–≤–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ –¥–ª—è –º–µ–ª–∫–∏—Ö —Å—É–º–º: –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –≤–∞–ª—é—Ç–∞, —Å–∫–∏–Ω—ã, bonuses", impact: 1.5, effortWeb: 999, effortMobile: 40 },
                    { title: "–†–µ–∫–ª–∞–º–∞: banner / interstitial / rewarded", description: "–ú–æ–Ω–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ —Ä–µ–∫–ª–∞–º—É (Admob, Facebook Ads Network), –æ—Å–æ–±–µ–Ω–Ω–æ rewarded video", impact: 1.5, effortWeb: 999, effortMobile: 25 },
                ]
            }
        };

        let allHypotheses = [];
        let userContext = {};

        function goToStep(step) {
            // Hide all steps
            document.querySelectorAll('.wizard-step').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.progress-step').forEach(s => s.classList.remove('active'));
            
            // Show current step
            document.getElementById('step' + step).classList.add('active');
            document.querySelectorAll('.progress-step')[step - 1].classList.add('active');
            
            window.scrollTo(0, 0);
        }

        function generateHypotheses() {
            // Validate all inputs
            const productName = document.getElementById('productName').value;
            const platform = document.getElementById('platform').value;
            const teamSize = document.getElementById('teamSize').value;
            const audience = document.getElementById('audience').value;
            const mainMetric = document.getElementById('mainMetric').value;
            const context = document.getElementById('context').value;
            const budget = document.getElementById('budget').value;
            const analytics = document.getElementById('analytics').value;

            if (!productName || !platform || !teamSize || !audience || !mainMetric || !context || !budget) {
                alert('–ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
                return;
            }

            // –°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
            userContext = {
                productName,
                platform,
                teamSize,
                audience,
                mainMetric,
                context,
                budget: parseInt(budget),
                analytics,
                previousAttempts: document.getElementById('previousAttempts').value,
                previousResults: document.getElementById('previousResults').value,
                painPoints: document.getElementById('painPoints').value,
                priorities: {
                    growth: document.getElementById('pri-growth').checked,
                    retention: document.getElementById('pri-retention').checked,
                    revenue: document.getElementById('pri-revenue').checked,
                    engagement: document.getElementById('pri-engagement').checked
                }
            };

            allHypotheses = [];

            // –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
            const categories = [];
            const metricLower = mainMetric.toLowerCase();
            
            if (metricLower.includes('signup') || metricLower.includes('dau') || userContext.priorities.growth) {
                categories.push('acquisition');
            }
            if (metricLower.includes('activation') || metricLower.includes('activation') || userContext.priorities.engagement) {
                categories.push('activation');
            }
            if (metricLower.includes('retention') || metricLower.includes('churn') || metricLower.includes('d7') || userContext.priorities.retention) {
                categories.push('retention');
            }
            if (metricLower.includes('conversion') || metricLower.includes('arpu') || metricLower.includes('ltv') || metricLower.includes('revenue') || userContext.priorities.revenue) {
                categories.push('monetization');
            }

            if (categories.length === 0) {
                categories.push('retention', 'activation', 'monetization');
            }

            // –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—ã –∏–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
            const platformType = platform === 'mobile' || platform === 'hybrid' ? 'mobile' : 'web';
            
            categories.forEach(category => {
                const hypotheses = hypothesisLibrary[category]?.[platformType] || [];
                hypotheses.forEach(hyp => {
                    // –í—ã–±—Ä–∞—Ç—å effort –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
                    let baseEffort = platformType === 'mobile' ? hyp.effortMobile : hyp.effortWeb;
                    if (baseEffort === 999) return; // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –µ—Å–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ
                    
                    // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å effort –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–º–∞–Ω–¥—ã
                    const teamMultiplier = {
                        'solo': 1.5,
                        'small': 1.2,
                        'medium': 1,
                        'large': 0.8
                    }[teamSize] || 1;
                    
                    // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å effort –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–ª–∏—á–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
                    const analyticsMultiplier = analytics === 'no' ? 1.3 : analytics === 'partial' ? 1.1 : 1;
                    
                    const effort = Math.round(baseEffort * teamMultiplier * analyticsMultiplier);
                    
                    // Reach –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
                    const userScaleReach = {
                        'small': 60,
                        'medium': 75,
                        'large': 85,
                        'xlarge': 90
                    }[document.getElementById('userScale').value] || 70;
                    
                    const reach = userScaleReach + Math.random() * 15 - 7;
                    const impact = hyp.impact + (Math.random() * 0.4 - 0.2);
                    const confidence = calculateConfidence(category, hyp.title, userContext);

                    const rice = Math.round((reach * impact * confidence) / effort * 10) / 10;

                    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏ –ª–∏ —É–∂–µ —Ç–∞–∫–æ–µ
                    const wasAttempted = userContext.previousAttempts.toLowerCase().includes(hyp.title.slice(0, 5).toLowerCase());
                    
                    allHypotheses.push({
                        title: hyp.title,
                        description: hyp.description,
                        reach: Math.round(reach),
                        impact: Math.round(impact * 100) / 100,
                        confidence: Math.round(confidence * 100),
                        effort: effort,
                        rice: rice,
                        category: category,
                        wasAttempted: wasAttempted,
                        platformApplicable: platform
                    });
                });
            });

            // –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ RICE
            allHypotheses.sort((a, b) => b.rice - a.rice);

            // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            displayResults();
        }

        function calculateConfidence(category, title, context) {
            let confidence = 0.55;
            
            // –ü–æ–≤—ã—à–∞—Ç—å confidence –µ—Å–ª–∏ –µ—Å—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
            if (context.analytics === 'yes') confidence += 0.15;
            if (context.analytics === 'partial') confidence += 0.08;
            
            // –ü–æ–≤—ã—à–∞—Ç—å –µ—Å–ª–∏ –µ—Å—Ç—å A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
            if (document.getElementById('abTesting').value === 'yes') confidence += 0.1;
            
            // –°–Ω–∏–∂–∞—Ç—å –µ—Å–ª–∏ –≥–∏–ø–æ—Ç–µ–∑–∞ —É–∂–µ –±—ã–ª–∞ –ø—Ä–æ–±–æ–≤–∞–Ω–∞ –∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞
            if (context.previousAttempts && context.previousAttempts.includes(title.slice(0, 5))) {
                const results = context.previousResults.toLowerCase();
                if (results.includes('–Ω–µ –ø–æ–º–æ–≥–∞–ª') || results.includes('–Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª')) {
                    confidence -= 0.2;
                }
            }
            
            return Math.max(0.2, Math.min(1, confidence));
        }

        function displayResults() {
            // –°–∫—Ä—ã—Ç—å wizard, –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            document.getElementById('wizardContainer').style.display = 'none';
            document.getElementById('progressIndicator').style.display = 'none';
            document.getElementById('hypothesesSection').style.display = 'block';
            document.getElementById('emptyState').style.display = 'none';

            const list = document.getElementById('hypothesesList');
            list.innerHTML = '';

            document.getElementById('totalCount').textContent = allHypotheses.length;

            // –û–±–Ω–æ–≤–∏—Ç—å summary
            const platformLabel = {
                'web': 'Web',
                'mobile': 'Mobile',
                'hybrid': 'Hybrid',
                'saas': 'SaaS B2B'
            }[userContext.platform] || userContext.platform;
            
            const audienceLabel = {
                'b2c-mass': 'B2C –º–∞—Å—Å–æ–≤–∞—è',
                'b2c-premium': 'B2C –ø—Ä–µ–º–∏—É–º',
                'b2b-sme': 'B2B –º–∞–ª—ã–π –±–∏–∑–Ω–µ—Å',
                'b2b-enterprise': 'B2B Enterprise',
                'mixed': '–°–º–µ—à–∞–Ω–Ω–∞—è'
            }[userContext.audience] || userContext.audience;
            
            document.getElementById('contextSummary').textContent = 
                `${userContext.productName} ‚Ä¢ ${platformLabel} ‚Ä¢ ${audienceLabel}`;

            const platformLabel = {
                'web': 'Web',
                'mobile': 'Mobile',
                'hybrid': 'Hybrid',
                'saas': 'SaaS B2B'
            }[userContext.platform] || userContext.platform;

            allHypotheses.forEach(h => {
                const riceClass = h.rice > 50 ? 'medium' : h.rice > 20 ? '' : 'low';
                const categoryLabel = {
                    'acquisition': '–ü—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ',
                    'activation': '–ê–∫—Ç–∏–≤–∞—Ü–∏—è',
                    'retention': '–£–¥–µ—Ä–∂–∞–Ω–∏–µ',
                    'monetization': '–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è'
                }[h.category] || h.category;

                const attemptedBadge = h.wasAttempted ? '<span class="tag" style="background-color: var(--warning); color: white; border-color: var(--warning);">‚ö†Ô∏è –£–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏</span>' : '';

                const card = document.createElement('div');
                card.className = 'hypothesis-card';
                card.innerHTML = `
                    <div class="card-header">
                        <div class="hypothesis-title">${h.title}</div>
                        <div class="rice-score ${riceClass}">${h.rice}</div>
                    </div>
                    <div class="card-body">
                        <div class="hypothesis-description">${h.description}</div>
                        <div style="margin: 12px 0 0 0; padding: 12px; background-color: var(--bg-primary); border-radius: 8px; border: 1px solid var(--border-color); font-size: 12px; color: var(--text-secondary);">
                            <strong>–î–ª—è:</strong> ${userContext.productName} (${platformLabel}) ‚Ä¢ <strong>–ë—é–¥–∂–µ—Ç:</strong> ${userContext.budget === 5 ? '1-2 –¥–Ω—è' : userContext.budget === 20 ? '1 –Ω–µ–¥.' : userContext.budget === 40 ? '2 –Ω–µ–¥.' : userContext.budget === 80 ? '1 –º–µ—Å—è—Ü' : '–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ'}
                        </div>
                        <div class="rice-breakdown">
                            <div class="rice-item">
                                <div class="rice-label">Reach</div>
                                <div class="rice-value">${h.reach}%</div>
                                <div class="stat-bar">
                                    <div class="stat-bar-fill"><div class="stat-bar-inner" style="width: ${h.reach}%"></div></div>
                                </div>
                            </div>
                            <div class="rice-item">
                                <div class="rice-label">Impact</div>
                                <div class="rice-value">${h.impact}x</div>
                            </div>
                            <div class="rice-item">
                                <div class="rice-label">Confidence</div>
                                <div class="rice-value">${h.confidence}%</div>
                            </div>
                            <div class="rice-item">
                                <div class="rice-label">Effort</div>
                                <div class="rice-value">${h.effort}h</div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <span class="tag category">${categoryLabel}</span>
                        <span class="tag">ROI: ${Math.round((h.rice / h.effort) * 10) / 10}</span>
                        ${attemptedBadge}
                        <button class="copy-button" onclick="copyToClipboard(event, '${h.title.replace(/'/g, "\\'")}')"
                                title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                `;
                list.appendChild(card);
            });
        }

        function sortHypotheses() {
            const sortBy = document.getElementById('sortBy').value;

            switch(sortBy) {
                case 'rice':
                    allHypotheses.sort((a, b) => b.rice - a.rice);
                    break;
                case 'impact':
                    allHypotheses.sort((a, b) => b.impact - a.impact);
                    break;
                case 'reach':
                    allHypotheses.sort((a, b) => b.reach - a.reach);
                    break;
                case 'effort':
                    allHypotheses.sort((a, b) => a.effort - b.effort);
                    break;
            }

            displayResults();
        }

        function copyToClipboard(event, text) {
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                btn.classList.add('copied');
                btn.textContent = '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ';
                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.textContent = 'üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å';
                }, 2000);
            });
        }

        function resetAndGoBack() {
            document.getElementById('wizardContainer').style.display = 'block';
            document.getElementById('progressIndicator').style.display = 'flex';
            document.getElementById('hypothesesSection').style.display = 'none';
            
            // Reset all inputs
            document.getElementById('productName').value = '';
            document.getElementById('platform').value = '';
            document.getElementById('teamSize').value = '';
            document.getElementById('audience').value = '';
            document.getElementById('userScale').value = '';
            document.getElementById('mainMetric').value = '';
            document.getElementById('metricValue').value = '';
            document.getElementById('targetGrowth').value = '15';
            document.getElementById('context').value = '';
            document.getElementById('budget').value = '';
            document.getElementById('abTesting').value = '';
            document.getElementById('analytics').value = '';
            document.getElementById('previousAttempts').value = '';
            document.getElementById('previousResults').value = '';
            document.getElementById('painPoints').value = '';
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            
            allHypotheses = [];
            goToStep(1);
        }
    </script>
</body>
</html>
